<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TESTE DISC - Secretaria Municipal de Habita√ß√£o</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --pantone-black: #2D2926;
            --pantone-red: #DA291C;
            --pantone-blue: #0033A0;
            --pantone-yellow: #FEDD00;
            --white: #FFFFFF;
        }

        body {
            background-color: var(--white);
            color: var(--pantone-black);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .bg-red-disc { background-color: var(--pantone-red); }
        .bg-blue-disc { background-color: var(--pantone-blue); }
        .bg-yellow-disc { background-color: var(--pantone-yellow); }
        .bg-black-disc { background-color: var(--pantone-black); }
        .text-red-disc { color: var(--pantone-red); }
        .text-blue-disc { color: var(--pantone-blue); }
        
        .card-menu {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }
        .card-menu:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }

        header {
            border-bottom: 4px solid var(--pantone-blue);
        }

        .progress-bar {
            height: 10px;
            background: #eee;
            border-radius: 5px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: var(--pantone-blue);
            width: 0%;
            transition: width 0.3s;
        }

        footer {
            background-color: var(--pantone-black);
            color: white;
        }

        .btn-primary {
            background-color: var(--pantone-blue);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: bold;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- 1 - CABE√áALHO E MENU -->
    <header class="p-4 bg-white shadow-md">
        <div class="container mx-auto flex flex-col md:flex-row items-center justify-between gap-4">
            <img src="brasao-mogi.png" alt="Bras√£o Mogi" class="h-20 w-auto" onerror="this.src='https://placehold.co/100x100?text=Mogi'">
            
            <div class="text-center">
                <h1 class="text-4xl font-extrabold text-black-disc">TESTE DISC</h1>
                <p class="text-lg font-medium text-blue-disc uppercase tracking-widest">Secretaria Municipal de Habita√ß√£o e Regulariza√ß√£o Fundi√°ria</p>
            </div>

            <img src="DISC-eixos.png" alt="DISC Eixos" class="h-20 w-auto" onerror="this.src='https://placehold.co/100x100?text=DISC'">
        </div>
        
        <nav class="mt-6 border-t pt-4">
            <div class="flex justify-center gap-6">
                <button onclick="navigate('home')" class="hover:text-red-disc font-bold">In√≠cio</button>
                <button onclick="navigate('objetivo')" class="hover:text-red-disc font-bold">Objetivo</button>
                <button onclick="navigate('famosos')" class="hover:text-red-disc font-bold">Famosos</button>
                <button onclick="navigate('teste')" class="hover:text-red-disc font-bold">Fazer Teste</button>
                <button onclick="navigate('dashboard')" class="hover:text-red-disc font-bold">Dashboard</button>
            </div>
        </nav>
    </header>

    <!-- 2 - CONTE√öDO PRINCIPAL -->
    <main id="content" class="flex-grow container mx-auto p-6">
        <!-- Renderiza√ß√£o Din√¢mica via JS -->
    </main>

    <!-- 3 - RODAP√â -->
    <footer class="p-8">
        <div class="container mx-auto grid md:grid-cols-2 gap-8">
            <div>
                <h3 class="text-xl font-bold mb-4">Secretaria Municipal de Habita√ß√£o</h3>
                <p class="text-gray-400">Desenvolvimento Humano e Regulariza√ß√£o Fundi√°ria.</p>
                <p class="text-sm mt-4">¬© 2024 - Todos os direitos reservados.</p>
            </div>
            <div>
                <h3 class="text-xl font-bold mb-4">Feedback do Candidato</h3>
                <div class="flex flex-col gap-2 text-black">
                    <textarea id="feedbackText" class="p-2 rounded w-full h-24" placeholder="Sua opini√£o ou cr√≠tica sobre o teste (Opcional)"></textarea>
                    <button onclick="saveFeedback()" class="bg-blue-disc text-white py-2 rounded hover:bg-opacity-90">Enviar Coment√°rio</button>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Dados das Quest√µes (Exemplo de 40 perguntas baseadas no padr√£o DISC)
        const questions = [
            { id: 1, text: "Eu sou uma pessoa...", options: [
                { label: "Decidida e audaciosa", type: "D" },
                { label: "Entusiasta e persuasiva", type: "I" },
                { label: "Calma e amig√°vel", type: "S" },
                { label: "Precisa e cautelosa", type: "C" }
            ]},
            { id: 2, text: "Em um grupo, prefiro...", options: [
                { label: "Liderar e tomar decis√µes", type: "D" },
                { label: "Interagir e motivar pessoas", type: "I" },
                { label: "Apoiar e colaborar", type: "S" },
                { label: "Analisar dados e organizar", type: "C" }
            ]},
            // ... Adicionando mais para simular 40 perguntas
        ];
        
        // Mock de mais quest√µes para completar as 40 conforme solicitado
        for(let i=3; i<=40; i++) {
            questions.push({
                id: i,
                text: `Quest√£o ${i}: No trabalho, meu foco principal √©...`,
                options: [
                    { label: "Resultados e efici√™ncia", type: "D" },
                    { label: "Relacionamentos e comunica√ß√£o", type: "I" },
                    { label: "Estabilidade e rotina", type: "S" },
                    { label: "Qualidade e precis√£o", type: "C" }
                ]
            });
        }

        let currentView = 'home';
        let userAnswers = [];
        let testResults = JSON.parse(localStorage.getItem('disc_results') || '[]');

        function navigate(view) {
            currentView = view;
            render();
            window.scrollTo(0,0);
        }

        function render() {
            const container = document.getElementById('content');
            
            if (currentView === 'home') {
                container.innerHTML = `
                    <div class="text-center mb-10">
                        <h2 class="text-3xl font-bold mb-4">Bem-vindo ao Portal de Desenvolvimento DISC</h2>
                        <p class="text-gray-600 max-w-2xl mx-auto">Conhe√ßa seu perfil comportamental para melhorar sua produtividade e relacionamentos interpessoais no ambiente de trabalho.</p>
                    </div>
                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <div class="card-menu p-6 bg-white border-t-4 border-blue-disc shadow-lg rounded-lg text-center" onclick="navigate('objetivo')">
                            <div class="text-4xl mb-4">üìñ</div>
                            <h3 class="font-bold text-lg mb-2">Objetivo do Teste</h3>
                            <p class="text-sm text-gray-500">Entenda por que o DISC √© essencial para sua carreira.</p>
                        </div>
                        <div class="card-menu p-6 bg-white border-t-4 border-red-disc shadow-lg rounded-lg text-center" onclick="navigate('famosos')">
                            <div class="text-4xl mb-4">üåü</div>
                            <h3 class="font-bold text-lg mb-2">Perfis Famosos</h3>
                            <p class="text-sm text-gray-500">Veja quem compartilha o mesmo perfil que voc√™.</p>
                        </div>
                        <div class="card-menu p-6 bg-white border-t-4 border-yellow-disc shadow-lg rounded-lg text-center" onclick="navigate('teste')">
                            <div class="text-4xl mb-4">üìù</div>
                            <h3 class="font-bold text-lg mb-2">Realizar Teste</h3>
                            <p class="text-sm text-gray-500">Responda 40 quest√µes e descubra sua domin√¢ncia.</p>
                        </div>
                        <div class="card-menu p-6 bg-white border-t-4 border-black-disc shadow-lg rounded-lg text-center" onclick="navigate('dashboard')">
                            <div class="text-4xl mb-4">üìä</div>
                            <h3 class="font-bold text-lg mb-2">Dashboard</h3>
                            <p class="text-sm text-gray-500">Visualize estat√≠sticas e resultados recentes.</p>
                        </div>
                    </div>
                `;
            } else if (currentView === 'objetivo') {
                container.innerHTML = `
                    <div class="max-w-4xl mx-auto bg-white p-8 shadow rounded-lg">
                        <h2 class="text-2xl font-bold mb-6 text-blue-disc">Objetivo do Teste DISC</h2>
                        <div class="prose max-w-none text-gray-700">
                            <p>O teste DISC √© uma ferramenta de avalia√ß√£o comportamental que segmenta o comportamento humano em quatro quadrantes principais: <strong>Domin√¢ncia, Influ√™ncia, Estabilidade e Conformidade.</strong></p>
                            
                            <h3 class="font-bold mt-4">Como responder:</h3>
                            <ul class="list-disc ml-5 mb-4">
                                <li>Seja honesto consigo mesmo. N√£o h√° respostas certas ou erradas.</li>
                                <li>Pense no seu comportamento habitual em ambiente de trabalho.</li>
                                <li>Escolha a op√ß√£o que MAIS se aproxima de como voc√™ age.</li>
                            </ul>

                            <div class="grid grid-cols-2 gap-4 my-8">
                                <div class="bg-red-100 p-4 border-l-4 border-red-600">
                                    <strong class="text-red-600">Domin√¢ncia (D):</strong> Foco em resultados, rapidez e desafios.
                                </div>
                                <div class="bg-yellow-100 p-4 border-l-4 border-yellow-500">
                                    <strong class="text-yellow-600">Influ√™ncia (I):</strong> Foco em pessoas, entusiasmo e otimismo.
                                </div>
                                <div class="bg-blue-100 p-4 border-l-4 border-blue-600">
                                    <strong class="text-blue-600">Estabilidade (S):</strong> Foco em colabora√ß√£o, paci√™ncia e lealdade.
                                </div>
                                <div class="bg-gray-100 p-4 border-l-4 border-gray-600">
                                    <strong class="text-gray-600">Conformidade (C):</strong> Foco em detalhes, precis√£o e l√≥gica.
                                </div>
                            </div>
                        </div>
                        <button onclick="navigate('home')" class="btn-primary mt-6">Voltar</button>
                    </div>
                `;
            } else if (currentView === 'famosos') {
                container.innerHTML = `
                    <h2 class="text-3xl font-bold mb-8 text-center">Perfis DISC de Pessoas Famosas</h2>
                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <div class="bg-white p-6 shadow rounded-lg border-t-4 border-red-disc">
                            <h3 class="font-bold text-xl text-red-disc mb-2">Dominantes (D)</h3>
                            <p class="text-sm italic mb-4">Diretos e Assertivos</p>
                            <ul class="text-gray-600 space-y-2">
                                <li>‚Ä¢ Steve Jobs</li>
                                <li>‚Ä¢ Robert De Niro</li>
                                <li>‚Ä¢ Margaret Thatcher</li>
                            </ul>
                        </div>
                        <div class="bg-white p-6 shadow rounded-lg border-t-4 border-yellow-disc">
                            <h3 class="font-bold text-xl text-yellow-600 mb-2">Influentes (I)</h3>
                            <p class="text-sm italic mb-4">Comunicativos e Sociais</p>
                            <ul class="text-gray-600 space-y-2">
                                <li>‚Ä¢ Will Smith</li>
                                <li>‚Ä¢ Ellen DeGeneres</li>
                                <li>‚Ä¢ Bill Clinton</li>
                            </ul>
                        </div>
                        <div class="bg-white p-6 shadow rounded-lg border-t-4 border-blue-disc">
                            <h3 class="font-bold text-xl text-blue-disc mb-2">Est√°veis (S)</h3>
                            <p class="text-sm italic mb-4">Calmos e Pacientes</p>
                            <ul class="text-gray-600 space-y-2">
                                <li>‚Ä¢ Mahatma Gandhi</li>
                                <li>‚Ä¢ Michael J. Fox</li>
                                <li>‚Ä¢ Jimmy Carter</li>
                            </ul>
                        </div>
                        <div class="bg-white p-6 shadow rounded-lg border-t-4 border-black-disc">
                            <h3 class="font-bold text-xl text-gray-800 mb-2">Conformes (C)</h3>
                            <p class="text-sm italic mb-4">Anal√≠ticos e Precisos</p>
                            <ul class="text-gray-600 space-y-2">
                                <li>‚Ä¢ Bill Gates</li>
                                <li>‚Ä¢ Albert Einstein</li>
                                <li>‚Ä¢ Kevin Costner</li>
                            </ul>
                        </div>
                    </div>
                `;
            } else if (currentView === 'teste') {
                userAnswers = [];
                renderQuestion(0);
            } else if (currentView === 'dashboard') {
                container.innerHTML = `
                    <h2 class="text-3xl font-bold mb-8 text-center">Dashboard de Resultados Recentes</h2>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div class="bg-white p-6 shadow rounded-lg">
                            <h3 class="font-bold mb-4">Distribui√ß√£o por Perfil</h3>
                            <canvas id="dashboardChart"></canvas>
                        </div>
                        <div class="bg-white p-6 shadow rounded-lg overflow-y-auto max-h-96">
                            <h3 class="font-bold mb-4">√öltimos Testes</h3>
                            <table class="w-full text-left">
                                <thead>
                                    <tr class="border-b">
                                        <th class="py-2">Data</th>
                                        <th class="py-2">Perfil Dominante</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${testResults.length ? testResults.map(r => `
                                        <tr class="border-b">
                                            <td class="py-2">${r.date}</td>
                                            <td class="py-2 font-bold text-blue-disc">${r.dominant}</td>
                                        </tr>
                                    `).join('') : '<tr><td colspan="2" class="py-4 text-center">Nenhum teste realizado ainda.</td></tr>'}
                                </tbody>
                            </table>
                        </div>
                    </div>
                `;
                initDashboardChart();
            }
        }

        function renderQuestion(index) {
            const container = document.getElementById('content');
            const q = questions[index];
            const progress = ((index / questions.length) * 100).toFixed(0);

            container.innerHTML = `
                <div class="max-w-2xl mx-auto bg-white p-8 shadow-xl rounded-lg border">
                    <div class="mb-6">
                        <div class="flex justify-between mb-2 text-sm font-bold">
                            <span>Progresso do Teste</span>
                            <span>${index + 1} de ${questions.length}</span>
                        </div>
                        <div class="progress-bar"><div class="progress-fill" style="width: ${progress}%"></div></div>
                    </div>
                    
                    <h3 class="text-xl font-bold mb-6">${q.text}</h3>
                    <div class="space-y-4">
                        ${q.options.map((opt, i) => `
                            <button onclick="handleAnswer(${index}, '${opt.type}')" 
                                    class="w-full text-left p-4 rounded border hover:bg-blue-50 hover:border-blue-disc transition-all flex items-center gap-4 group">
                                <span class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center group-hover:bg-blue-disc group-hover:text-white">${i+1}</span>
                                <span>${opt.label}</span>
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function handleAnswer(index, type) {
            userAnswers.push(type);
            if (index + 1 < questions.length) {
                renderQuestion(index + 1);
            } else {
                finishTest();
            }
        }

        function finishTest() {
            const counts = { D: 0, I: 0, S: 0, C: 0 };
            userAnswers.forEach(ans => counts[ans]++);
            
            const dominant = Object.keys(counts).reduce((a, b) => counts[a] > counts[b] ? a : b);
            const profiles = {
                D: { name: "Domin√¢ncia", color: "#DA291C", desc: "Voc√™ √© focado em resultados e desafios." },
                I: { name: "Influ√™ncia", color: "#FEDD00", desc: "Voc√™ √© focado em comunica√ß√£o e entusiasmo." },
                S: { name: "Estabilidade", color: "#0033A0", desc: "Voc√™ √© focado em colabora√ß√£o e paci√™ncia." },
                C: { name: "Conformidade", color: "#2D2926", desc: "Voc√™ √© focado em processos e precis√£o." }
            };

            const resultData = {
                date: new Date().toLocaleDateString(),
                dominant: profiles[dominant].name,
                counts: counts
            };

            testResults.push(resultData);
            localStorage.setItem('disc_results', JSON.stringify(testResults));

            const container = document.getElementById('content');
            container.innerHTML = `
                <div class="max-w-4xl mx-auto bg-white p-8 shadow-lg rounded-lg">
                    <div class="text-center mb-10">
                        <h2 class="text-4xl font-extrabold mb-2">Seu Perfil Principal √©: <span style="color: ${profiles[dominant].color}">${profiles[dominant].name}</span></h2>
                        <p class="text-xl text-gray-600">${profiles[dominant].desc}</p>
                    </div>

                    <div class="grid md:grid-cols-2 gap-8 items-center mb-10">
                        <canvas id="resultChart"></canvas>
                        <div class="space-y-4">
                            <h3 class="font-bold text-xl border-b pb-2">Dicas de Desenvolvimento</h3>
                            <div class="bg-gray-50 p-4 rounded">
                                <p class="font-bold text-blue-disc mb-2">Como usar seu perfil dominante:</p>
                                <p class="text-sm">Potencialize sua habilidade natural de ${dominant === 'D' ? 'liderar' : dominant === 'I' ? 'comunicar' : dominant === 'S' ? 'organizar' : 'analisar'} para acelerar projetos estrat√©gicos na Secretaria.</p>
                            </div>
                            <div class="bg-gray-50 p-4 rounded">
                                <p class="font-bold text-red-disc mb-2">O que melhorar:</p>
                                <p class="text-sm">Tente equilibrar seu perfil desenvolvendo a caracter√≠stica oposta para ser um profissional mais completo e flex√≠vel.</p>
                            </div>
                        </div>
                    </div>

                    <div class="border-t pt-8 text-center" id="emailSection">
                        <h3 class="text-xl font-bold mb-4">Deseja receber uma c√≥pia do resultado?</h3>
                        <div class="flex justify-center gap-4">
                            <button onclick="showEmailForm()" class="btn-primary">Sim</button>
                            <button onclick="finalNo()" class="bg-gray-400 text-white px-6 py-2 rounded font-bold">N√£o</button>
                        </div>
                    </div>
                </div>
            `;

            initResultChart(counts);
        }

        function initResultChart(counts) {
            const ctx = document.getElementById('resultChart').getContext('2d');
            new Chart(ctx, {
                type: 'polarArea',
                data: {
                    labels: ['Domin√¢ncia', 'Influ√™ncia', 'Estabilidade', 'Conformidade'],
                    datasets: [{
                        data: [counts.D, counts.I, counts.S, counts.C],
                        backgroundColor: ['#DA291C', '#FEDD00', '#0033A0', '#2D2926']
                    }]
                }
            });
        }

        function initDashboardChart() {
            setTimeout(() => {
                const ctx = document.getElementById('dashboardChart').getContext('2d');
                const totals = { D: 0, I: 0, S: 0, C: 0 };
                testResults.forEach(r => {
                    const domChar = r.dominant[0]; // Pega primeira letra
                    if(totals[domChar] !== undefined) totals[domChar]++;
                });

                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['D', 'I', 'S', 'C'],
                        datasets: [{
                            label: 'Quantidade de Testes',
                            data: [totals.D, totals.I, totals.S, totals.C],
                            backgroundColor: ['#DA291C', '#FEDD00', '#0033A0', '#2D2926']
                        }]
                    }
                });
            }, 100);
        }

        function showEmailForm() {
            document.getElementById('emailSection').innerHTML = `
                <div class="max-w-sm mx-auto">
                    <p class="mb-4 font-bold">Digite seu e-mail para envio:</p>
                    <input type="email" id="userEmail" class="w-full p-2 border rounded mb-4" placeholder="seuemail@exemplo.com">
                    <button onclick="sendEmailMock()" class="btn-primary w-full">Enviar Resultado</button>
                </div>
            `;
        }

        function sendEmailMock() {
            const email = document.getElementById('userEmail').value;
            if(!email) return alert('Por favor, digite um e-mail v√°lido.');
            
            // Simula√ß√£o de envio para pmmc.ricardo@gmail.com e para o usu√°rio
            console.log(`Enviando resultado para pmmc.ricardo@gmail.com e ${email}`);
            
            document.getElementById('emailSection').innerHTML = `
                <div class="text-green-600 font-bold">
                    <p>‚úì Resultado enviado com sucesso!</p>
                    <button onclick="navigate('home')" class="mt-4 text-blue-disc underline">Voltar ao In√≠cio</button>
                </div>
            `;
        }

        function finalNo() {
            document.getElementById('emailSection').innerHTML = `
                <div class="text-blue-disc font-bold text-xl">
                    Obrigado! E parab√©ns por sua participa√ß√£o!
                    <br>
                    <button onclick="navigate('home')" class="mt-4 text-sm font-normal underline">Voltar ao In√≠cio</button>
                </div>
            `;
        }

        function saveFeedback() {
            const fb = document.getElementById('feedbackText').value;
            if(fb) {
                alert('Obrigado pelo seu feedback! Ele foi registrado.');
                document.getElementById('feedbackText').value = '';
            }
        }

        // Iniciar na Home
        render();
    </script>
</body>
</html>
