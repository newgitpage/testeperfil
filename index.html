<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste DISC - Secretaria de Habitação</title>
    <!-- Fontes e Bibliotecas -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script>

    <style>
        :root {
            --pantone-black: #000000;
            --pantone-red: #DA291C; /* 485 C */
            --pantone-blue: #0033A0; /* 286 C */
            --pantone-yellow: #FFCD00; /* Yellow C */
            --white: #FFFFFF;
            --light-gray: #F3F4F6;
            --card-blue: #E0F2FE;
            --card-magenta: #FCE7F3;
            --card-orange: #FFEDD5;
            --card-green: #DCFCE7;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background-color: var(--light-gray);
            color: var(--pantone-black);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header Layout */
        header {
            background-color: var(--pantone-blue);
            color: var(--white);
            padding: 1.5rem 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow);
        }

        .header-logo {
            height: 80px;
            width: auto;
            object-fit: contain;
        }

        .header-titles {
            text-align: center;
            flex: 1;
        }

        .header-titles h1 {
            font-size: 2.5rem;
            font-weight: 800;
            letter-spacing: 2px;
            margin-bottom: 0.2rem;
        }

        .header-titles p {
            font-size: 1rem;
            font-weight: 400;
            opacity: 0.9;
        }

        /* Navigation */
        nav {
            background-color: var(--pantone-black);
            padding: 0.5rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav ul {
            display: flex;
            justify-content: center;
            list-style: none;
            gap: 2rem;
        }

        nav a {
            color: var(--white);
            text-decoration: none;
            text-transform: uppercase;
            font-size: 0.85rem;
            font-weight: 600;
            padding: 0.5rem 1rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        nav a:hover {
            color: var(--pantone-yellow);
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
        }

        /* Main Content */
        main {
            flex: 1;
            max-width: 1200px;
            margin: 2rem auto;
            width: 95%;
        }

        section {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Cards Home */
        .home-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .card {
            padding: 2.5rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: transform 0.3s ease;
            text-align: center;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card h3 { margin-bottom: 1rem; font-size: 1.5rem; }
        .card-1 { background-color: var(--card-blue); }
        .card-2 { background-color: var(--card-magenta); }
        .card-3 { background-color: var(--card-orange); }
        .card-4 { background-color: var(--card-green); }

        /* Test Section Styles */
        #test-container {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            max-width: 800px;
            margin: 0 auto;
        }

        .progress-bar-container {
            height: 10px;
            background: #eee;
            border-radius: 5px;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        #progress-bar {
            height: 100%;
            background: var(--pantone-blue);
            width: 0%;
            transition: width 0.3s ease;
        }

        .question-text {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
        }

        .options-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .option-btn {
            padding: 1rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: none;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1rem;
        }

        .option-btn:hover {
            border-color: var(--pantone-blue);
            background: #f0f7ff;
        }

        .option-btn.selected {
            border-color: var(--pantone-blue);
            background: var(--pantone-blue);
            color: white;
        }

        .controls {
            margin-top: 2rem;
            display: flex;
            justify-content: flex-end;
        }

        .btn-primary {
            background: var(--pantone-blue);
            color: white;
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
        }

        /* Results / Dashboard */
        .results-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .chart-container {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
        }

        .result-info {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
        }

        .profile-badge {
            display: inline-block;
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            color: white;
            font-weight: 800;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .famous-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
        }

        .famous-item {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            border-top: 5px solid var(--pantone-blue);
        }

        /* Footer */
        footer {
            background-color: var(--pantone-black);
            color: var(--white);
            padding: 3rem 2rem;
            margin-top: auto;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
        }

        .feedback-form h4 { margin-bottom: 1rem; }
        .stars { margin-bottom: 1rem; color: var(--pantone-yellow); font-size: 1.5rem; cursor: pointer; }
        textarea { width: 100%; padding: 0.5rem; border-radius: 4px; border: none; min-height: 80px; }

        @media (max-width: 768px) {
            header { flex-direction: column; text-align: center; gap: 1rem; }
            .results-grid, .footer-content { grid-template-columns: 1fr; }
            nav ul { flex-wrap: wrap; gap: 0.5rem; }
        }
    </style>
</head>
<body>

<header>
    <img src="brasao-mogi.png" alt="Brasão de Mogi das Cruzes" class="header-logo" onerror="this.src='https://placehold.co/100x80?text=Mogi'">
    <div class="header-titles">
        <h1>TESTE DISC</h1>
        <p>Secretaria Municipal de Habitação e Regularização Fundiária</p>
    </div>
    <img src="DISC-eixos.png" alt="Eixos DISC" class="header-logo" onerror="this.src='https://placehold.co/100x80?text=DISC'">
</header>

<nav>
    <ul>
        <li><a onclick="showSection('home')">Início</a></li>
        <li><a onclick="showSection('explanation')">O que é DISC</a></li>
        <li><a onclick="showSection('famous')">Famosos</a></li>
        <li><a onclick="startTest()">Fazer o Teste</a></li>
        <li><a onclick="showSection('dashboard')">Dashboard</a></li>
    </ul>
</nav>

<main>
    <!-- Home / Cards -->
    <section id="home" class="active">
        <h2 style="text-align:center; margin-bottom: 1rem;">Bem-vindo ao Portal de Gestão de Pessoas</h2>
        <p style="text-align:center; color: #666;">Descubra seu perfil comportamental e potencialize suas competências.</p>
        <div class="home-grid">
            <div class="card card-1" onclick="showSection('explanation')">
                <h3>Metodologia</h3>
                <p>Entenda como funciona a teoria DISC de William Moulton Marston.</p>
            </div>
            <div class="card card-2" onclick="showSection('famous')">
                <h3>Perfis Famosos</h3>
                <p>Veja personalidades conhecidas que compartilham seu estilo.</p>
            </div>
            <div class="card card-3" onclick="startTest()">
                <h3>Iniciar Avaliação</h3>
                <p>40 questões para um diagnóstico preciso do seu perfil.</p>
            </div>
            <div class="card card-4" onclick="showSection('dashboard')">
                <h3>Meus Resultados</h3>
                <p>Acompanhe seu histórico e evolução comportamental.</p>
            </div>
        </div>
    </section>

    <!-- Explanation Section -->
    <section id="explanation">
        <div style="background: white; padding: 2.5rem; border-radius: 12px; box-shadow: var(--shadow);">
            <h2 style="color: var(--pantone-blue); margin-bottom: 1.5rem;">O que é o Perfil DISC?</h2>
            <p>O teste de perfil DISC é uma ferramenta de avaliação comportamental que visa compreender as características predominantes de um indivíduo em diferentes situações. Desenvolvido com base no trabalho de William Moulton Marston, o DISC divide o comportamento humano em quatro grandes eixos:</p>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin: 2rem 0;">
                <div style="padding: 1rem; border-left: 5px solid var(--pantone-red); background: #fff5f5;">
                    <strong>D - Dominância:</strong> Foco em resultados, competitividade e superação de desafios.
                </div>
                <div style="padding: 1rem; border-left: 5px solid var(--pantone-yellow); background: #fffdeb;">
                    <strong>I - Influência:</strong> Foco em pessoas, otimismo, entusiasmo e persuasão.
                </div>
                <div style="padding: 1rem; border-left: 5px solid var(--pantone-green); background: #f6fff9;">
                    <strong>S - Estabilidade (Steadiness):</strong> Foco em cooperação, paciência e lealdade.
                </div>
                <div style="padding: 1rem; border-left: 5px solid var(--pantone-blue); background: #f0f7ff;">
                    <strong>C - Conformidade:</strong> Foco em processos, precisão, lógica e qualidade.
                </div>
            </div>

            <h3 style="margin-bottom: 1rem;">Como responder?</h3>
            <ul>
                <li>Seja honesto consigo mesmo. Não há respostas certas ou erradas.</li>
                <li>Responda pensando em como você age na maior parte do tempo.</li>
                <li>Não gaste muito tempo analisando; sua primeira reação costuma ser a mais fiel.</li>
            </ul>
            <button class="btn-primary" style="margin-top: 2rem;" onclick="startTest()">Estou pronto!</button>
        </div>
    </section>

    <!-- Famous Section -->
    <section id="famous">
        <h2 style="margin-bottom: 2rem; text-align: center;">Perfis de Sucesso no DISC</h2>
        <div class="home-grid">
            <div class="famous-item" style="border-top-color: var(--pantone-red);">
                <h3 style="color: var(--pantone-red);">Dominância (D)</h3>
                <p><strong>Exemplos:</strong> Steve Jobs, Michael Jordan, Margaret Thatcher.</p>
                <p style="font-size: 0.9rem; margin-top: 1rem;">Pessoas diretas, focadas em vencer e resolver problemas rapidamente.</p>
            </div>
            <div class="famous-item" style="border-top-color: var(--pantone-yellow);">
                <h3 style="color: #d4aa00;">Influência (I)</h3>
                <p><strong>Exemplos:</strong> Bill Clinton, Oprah Winfrey, Will Smith.</p>
                <p style="font-size: 0.9rem; margin-top: 1rem;">Comunicadores natos, que inspiram através do carisma e relacionamento.</p>
            </div>
            <div class="famous-item" style="border-top-color: var(--pantone-green);">
                <h3 style="color: #2e7d32;">Estabilidade (S)</h3>
                <p><strong>Exemplos:</strong> Gandhi, Madre Teresa, Jimmy Carter.</p>
                <p style="font-size: 0.9rem; margin-top: 1rem;">Buscadores de harmonia, consistentes e ótimos ouvintes.</p>
            </div>
            <div class="famous-item" style="border-top-color: var(--pantone-blue);">
                <h3 style="color: var(--pantone-blue);">Conformidade (C)</h3>
                <p><strong>Exemplos:</strong> Bill Gates, Albert Einstein, Sherlock Holmes.</p>
                <p style="font-size: 0.9rem; margin-top: 1rem;">Mentes analíticas voltadas para dados, regras e perfeccionismo técnica.</p>
            </div>
        </div>
    </section>

    <!-- Test Core Section -->
    <section id="test-section">
        <div id="test-container">
            <div class="progress-bar-container">
                <div id="progress-bar"></div>
            </div>
            <div id="question-area">
                <!-- JS populated -->
            </div>
            <div class="controls">
                <button id="next-btn" class="btn-primary" onclick="handleNext()" disabled>Avançar</button>
            </div>
        </div>
    </section>

    <!-- Results Section -->
    <section id="results">
        <h2 style="text-align: center; margin-bottom: 2rem;">Seu Relatório Comportamental</h2>
        <div class="results-grid">
            <div class="chart-container">
                <canvas id="resultChart"></canvas>
            </div>
            <div class="result-info" id="result-text-content">
                <!-- JS populated -->
            </div>
        </div>
        <div style="text-align: center; margin-top: 2rem; display: flex; justify-content: center; gap: 1rem;">
            <button class="btn-primary" style="background: #27ae60;" onclick="downloadPDF()">Baixar Relatório em PDF</button>
            <button class="btn-primary" onclick="showSection('home')">Voltar ao Início</button>
        </div>
    </section>

    <!-- Dashboard Section -->
    <section id="dashboard">
        <h2 style="margin-bottom: 2rem;">Seu Histórico de Perfis</h2>
        <div id="history-container">
            <!-- JS populated with cards of previous tests -->
        </div>
    </section>
</main>

<footer>
    <div class="footer-content">
        <div>
            <h3>Habitação Mogi</h3>
            <p>Secretaria Municipal de Habitação e Regularização Fundiária</p>
            <p style="margin-top: 1rem; color: #aaa;"> <em>'Gestão de Pessoas e Melhoria de Processos'</em></p>
        </div>
        <div class="feedback-form">
            <h4>Feedback do Sistema</h4>
            <div class="stars" id="star-rating">
                <span onclick="rate(1)">☆</span><span onclick="rate(2)">☆</span><span onclick="rate(3)">☆</span><span onclick="rate(4)">☆</span><span onclick="rate(5)">☆</span>
            </div>
            <textarea placeholder="Deixe seu comentário sobre a experiência..."></textarea>
            <button class="btn-primary" style="margin-top: 0.5rem; background: #444;" onclick="alert('Obrigado pelo seu feedback!')">Enviar</button>
        </div>
    </div>
</footer>

<script>
    // --- DATABASE DE QUESTÕES ---
    // Estrutura: 4 frases. Cada uma ligada a D, I, S ou C.
    const questions = [
        { id: 1, options: [
            { text: "Decidido, focado em vencer obstáculos.", type: "D" },
            { text: "Convincente, gosta de influenciar os outros.", type: "I" },
            { text: "Amável, evita conflitos a todo custo.", type: "S" },
            { text: "Preciso, gosta de dados e fatos.", type: "C" }
        ]},
        { id: 2, options: [
            { text: "Competitivo, busca sempre o primeiro lugar.", type: "D" },
            { text: "Entusiasta, vê sempre o lado positivo.", type: "I" },
            { text: "Paciente, sabe esperar o tempo das coisas.", type: "S" },
            { text: "Lógico, analisa as situações racionalmente.", type: "C" }
        ]},
        { id: 3, options: [
            { text: "Corajoso ao assumir riscos elevados.", type: "D" },
            { text: "Sociável, faz amigos com facilidade.", type: "I" },
            { text: "Leal, valoriza relacionamentos de longo prazo.", type: "S" },
            { text: "Disciplinado, segue normas e procedimentos.", type: "C" }
        ]},
        { id: 4, options: [
            { text: "Direto e objetivo na comunicação.", type: "D" },
            { text: "Otimista mesmo em situações difíceis.", type: "I" },
            { text: "Cooperativo, trabalha bem em equipe.", type: "S" },
            { text: "Perfeccionista em seus entregáveis.", type: "C" }
        ]},
        { id: 5, options: [
            { text: "Autoconfiante e independente.", type: "D" },
            { text: "Persuasivo e charmoso.", type: "I" },
            { text: "Calmo e tranquilo sob pressão.", type: "S" },
            { text: "Cauteloso e atento a detalhes.", type: "C" }
        ], },
        // ... Gerando 40 questões simuladas com o mesmo padrão conceitual
    ];

    // Gerador de questões restantes para completar 40
    const traits = {
        D: ["Agressivo com metas", "Rápido na decisão", "Comando", "Foco no resultado", "Exigente", "Impaciente", "Visionário"],
        I: ["Comunicativo", "Inspirador", "Expansivo", "Amigável", "Impulsivo", "Reconhecimento", "Energético"],
        S: ["Metódico", "Ouvinte", "Acolhedor", "Estável", "Previsível", "Rotineiro", "Sensível"],
        C: ["Analítico", "Sistemático", "Crítico", "Organizado", "Especialista", "Regrado", "Discreto"]
    };

    while(questions.length < 40) {
        let i = questions.length;
        questions.push({
            id: i + 1,
            options: [
                { text: traits.D[i % traits.D.length] + " e focado no agora.", type: "D" },
                { text: traits.I[i % traits.I.length] + " em ambientes sociais.", type: "I" },
                { text: traits.S[i % traits.S.length] + " na execução de tarefas.", type: "S" },
                { text: traits.C[i % traits.C.length] + " em relação a padrões.", type: "C" }
            ]
        });
    }

    // --- ESTADO DA APLICAÇÃO ---
    let currentStep = 0;
    let scores = { D: 0, I: 0, S: 0, C: 0 };
    let selectedType = null;
    let myChart = null;

    // --- NAVEGAÇÃO ---
    function showSection(sectionId) {
        document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
        document.getElementById(sectionId).classList.add('active');
        window.scrollTo(0,0);
        
        if(sectionId === 'dashboard') loadDashboard();
    }

    // --- LÓGICA DO TESTE ---
    function startTest() {
        currentStep = 0;
        scores = { D: 0, I: 0, S: 0, C: 0 };
        showSection('test-section');
        renderQuestion();
    }

    function renderQuestion() {
        const q = questions[currentStep];
        const area = document.getElementById('question-area');
        const progress = ((currentStep) / questions.length) * 100;
        document.getElementById('progress-bar').style.width = `${progress}%`;

        selectedType = null;
        document.getElementById('next-btn').disabled = true;

        area.innerHTML = `
            <p class="question-text">Questão ${q.id} de 40: Qual característica mais te define?</p>
            <div class="options-list">
                ${q.options.map((opt, idx) => `
                    <button class="option-btn" onclick="selectOption(this, '${opt.type}')">
                        ${opt.text}
                    </button>
                `).join('')}
            </div>
        `;
    }

    function selectOption(btn, type) {
        document.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        selectedType = type;
        document.getElementById('next-btn').disabled = false;
    }

    function handleNext() {
        scores[selectedType]++;
        currentStep++;

        if (currentStep < questions.length) {
            renderQuestion();
        } else {
            finishTest();
        }
    }

    function finishTest() {
        const dominant = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
        
        const testData = {
            date: new Date().toLocaleString(),
            dominant: dominant,
            scores: {...scores}
        };

        // Salvar no LocalStorage
        const history = JSON.parse(localStorage.getItem('disc_history') || '[]');
        history.push(testData);
        localStorage.setItem('disc_history', JSON.stringify(history));

        // Renderizar Resultado
        showResults(testData);

        // Mensagem final e redirect parcial (como pedido, mas vamos para o resultado primeiro)
        setTimeout(() => {
            console.log("Teste salvo com sucesso!");
        }, 1000);
    }

    // --- RESULTADOS E GRÁFICOS ---
    function showResults(data) {
        showSection('results');
        
        const labels = {
            'D': { name: 'Dominância', color: '#DA291C', desc: 'Você é focado em resultados e desafios.' },
            'I': { name: 'Influência', color: '#FFCD00', desc: 'Você é fativo e gosta de influenciar pessoas.' },
            'S': { name: 'Estabilidade', color: '#2ecc71', desc: 'Você valoriza a paciência e a cooperação.' },
            'C': { name: 'Conformidade', color: '#0033A0', desc: 'Você preza pela precisão e processos.' }
        };

        const ctx = document.getElementById('resultChart').getContext('2d');
        if(myChart) myChart.destroy();

        myChart = new Chart(ctx, {
            type: 'radar',
            data: {
                labels: ['Dominância', 'Influência', 'Estabilidade', 'Conformidade'],
                datasets: [{
                    label: 'Seu Perfil',
                    data: [data.scores.D, data.scores.I, data.scores.S, data.scores.C],
                    backgroundColor: 'rgba(0, 51, 160, 0.2)',
                    borderColor: '#0033A0',
                    borderWidth: 3,
                    pointBackgroundColor: '#DA291C'
                }]
            },
            options: {
                scales: {
                    r: { beginAtZero: true, max: 25 }
                }
            }
        });

        const info = labels[data.dominant];
        document.getElementById('result-text-content').innerHTML = `
            <div class="profile-badge" style="background:${info.color}">${info.name}</div>
            <p style="font-size: 1.1rem; margin-bottom: 1.5rem;">${info.desc}</p>
            
            <h4 style="margin-top:1rem;">Dicas para seu perfil:</h4>
            <ul style="margin-left: 1.5rem; margin-bottom: 1rem;">
                <li>Busque equilibrar sua energia com as necessidades da equipe.</li>
                <li>Utilize sua força natural para liderar projetos complexos.</li>
                <li>Trabalhe a escuta ativa para melhorar a colaboração.</li>
            </ul>

            <h4 style="margin-top:1rem;">Como desenvolver outros eixos:</h4>
            <p style="font-size: 0.9rem; color: #555;">Tente praticar atividades do perfil oposto ao seu por 15 minutos ao dia para ganhar flexibilidade comportamental.</p>
        `;
    }

    // --- DASHBOARD ---
    function loadDashboard() {
        const container = document.getElementById('history-container');
        const history = JSON.parse(localStorage.getItem('disc_history') || '[]');

        if(history.length === 0) {
            container.innerHTML = "<p>Nenhum teste realizado ainda.</p>";
            return;
        }

        container.innerHTML = history.reverse().map(item => `
            <div style="background:white; padding: 1rem; border-radius:8px; margin-bottom:1rem; display:flex; justify-content:space-between; align-items:center; box-shadow: var(--shadow);">
                <div>
                    <strong>Data:</strong> ${item.date} | 
                    <strong>Perfil:</strong> <span style="font-weight:700; color:var(--pantone-blue)">${item.dominant}</span>
                </div>
                <div style="font-size: 0.8rem;">
                    D:${item.scores.D} I:${item.scores.I} S:${item.scores.S} C:${item.scores.C}
                </div>
            </div>
        `).join('');
    }

    // --- PDF EXPORT ---
    function downloadPDF() {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        const history = JSON.parse(localStorage.getItem('disc_history') || '[]');
        const last = history[history.length - 1];

        doc.setFontSize(22);
        doc.text("Relatório de Perfil DISC", 20, 20);
        doc.setFontSize(12);
        doc.text(`Secretaria de Habitação - Mogi das Cruzes`, 20, 30);
        doc.text(`Data do Teste: ${last.date}`, 20, 40);
        
        doc.setFontSize(16);
        doc.text(`Perfil Dominante: ${last.dominant}`, 20, 60);

        const tableData = [
            ["Eixo", "Pontuação"],
            ["Dominância (D)", last.scores.D],
            ["Influência (I)", last.scores.I],
            ["Estabilidade (S)", last.scores.S],
            ["Conformidade (C)", last.scores.C]
        ];

        doc.autoTable({
            startY: 70,
            head: [tableData[0]],
            body: tableData.slice(1),
        });

        doc.text("Dicas de Desenvolvimento:", 20, doc.lastAutoTable.finalY + 20);
        doc.setFontSize(10);
        doc.text("- Foque em suas fortalezas naturais identificadas no teste.", 20, doc.lastAutoTable.finalY + 30);
        doc.text("- Busque parcerias com perfis complementares ao seu.", 20, doc.lastAutoTable.finalY + 35);

        doc.save(`Resultado_DISC_${last.dominant}.pdf`);
    }

    // Feedback Stars
    function rate(n) {
        const stars = document.getElementById('star-rating').children;
        for(let i=0; i<5; i++) {
            stars[i].innerHTML = i < n ? "★" : "☆";
            stars[i].style.color = i < n ? "var(--pantone-yellow)" : "white";
        }
    }

</script>
</body>
</html>
